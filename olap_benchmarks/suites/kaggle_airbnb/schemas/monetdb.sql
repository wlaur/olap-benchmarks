CREATE TABLE neighbourhoods (
    neighbourhood_group varchar,
    neighbourhood bigint,
    CONSTRAINT pk_neighbourhoods PRIMARY KEY (neighbourhood)
);

CREATE TABLE listings (
    id bigint,
    "name" varchar,
    host_id bigint,
    host_name varchar,
    neighbourhood_group varchar,
    neighbourhood bigint,
    latitude double,
    longitude double,
    room_type varchar,
    price bigint,
    minimum_nights bigint,
    number_of_reviews bigint,
    last_review date,
    reviews_per_month double,
    calculated_host_listings_count bigint,
    availability_365 bigint,
    number_of_reviews_ltm bigint,
    license varchar,
    CONSTRAINT pk_listings PRIMARY KEY (id)
);

CREATE TABLE calendar (
    listing_id bigint,
    "date" date,
    available boolean,
    price varchar,
    adjusted_price varchar,
    minimum_nights bigint,
    maximum_nights bigint,
    CONSTRAINT fk_calendar_listing FOREIGN KEY (listing_id) REFERENCES listings (id)
);

CREATE TABLE reviews (
    listing_id bigint,
    "date" date,
    CONSTRAINT fk_reviews_listing FOREIGN KEY (listing_id) REFERENCES listings (id)
);

CREATE TABLE reviews_detailed (
    listing_id bigint,
    id bigint,
    "date" date,
    reviewer_id bigint,
    reviewer_name varchar,
    comments varchar,
    CONSTRAINT pk_reviews_detailed PRIMARY KEY (id),
    CONSTRAINT fk_reviews_detailed_listing FOREIGN KEY (listing_id) REFERENCES listings (id)
);

CREATE TABLE listings_detailed (
    id bigint,
    listing_url varchar,
    scrape_id bigint,
    last_scraped date,
    "source" varchar,
    "name" varchar,
    description varchar,
    neighborhood_overview varchar,
    picture_url varchar,
    host_id bigint,
    host_url varchar,
    host_name varchar,
    host_since date,
    host_location varchar,
    host_about varchar,
    host_response_time varchar,
    host_response_rate varchar,
    host_acceptance_rate varchar,
    host_is_superhost boolean,
    host_thumbnail_url varchar,
    host_picture_url varchar,
    host_neighbourhood varchar,
    host_listings_count bigint,
    host_total_listings_count bigint,
    host_verifications varchar,
    host_has_profile_pic boolean,
    host_identity_verified boolean,
    neighbourhood varchar,
    neighbourhood_cleansed bigint,
    neighbourhood_group_cleansed varchar,
    latitude double,
    longitude double,
    property_type varchar,
    room_type varchar,
    accommodates bigint,
    bathrooms varchar,
    bathrooms_text varchar,
    bedrooms bigint,
    beds bigint,
    amenities varchar,
    price varchar,
    minimum_nights bigint,
    maximum_nights bigint,
    minimum_minimum_nights bigint,
    maximum_minimum_nights bigint,
    minimum_maximum_nights bigint,
    maximum_maximum_nights bigint,
    minimum_nights_avg_ntm double,
    maximum_nights_avg_ntm double,
    calendar_updated date,
    has_availability boolean,
    availability_30 bigint,
    availability_60 bigint,
    availability_90 bigint,
    availability_365 bigint,
    calendar_last_scraped date,
    number_of_reviews bigint,
    number_of_reviews_ltm bigint,
    number_of_reviews_l30d bigint,
    first_review date,
    last_review date,
    review_scores_rating double,
    review_scores_accuracy double,
    review_scores_cleanliness double,
    review_scores_checkin double,
    review_scores_communication double,
    review_scores_location double,
    review_scores_value double,
    license varchar,
    instant_bookable boolean,
    calculated_host_listings_count bigint,
    calculated_host_listings_count_entire_homes bigint,
    calculated_host_listings_count_private_rooms bigint,
    calculated_host_listings_count_shared_rooms bigint,
    reviews_per_month double,
    CONSTRAINT pk_listings_detailed PRIMARY KEY (id),
    CONSTRAINT fk_listings_detailed_listing FOREIGN KEY (id) REFERENCES listings (id)
);
